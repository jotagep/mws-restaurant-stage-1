class DBHelper{static get DATABASE_URL(){return"http://localhost:1337/restaurants"}static fetchRestaurants(t){fetch(DBHelper.DATABASE_URL).then(e=>{e.json().then(e=>t(null,e)).catch(e=>t(e,null))}).catch(t=>{console.error(t)})}static fetchRestaurantById(t,e){fetch(`${DBHelper.DATABASE_URL}/${t}`).then(t=>{t.json().then(t=>e(null,t)).catch(t=>e("Restaurant does not exist",null))}).catch(t=>{console.error(t)})}static fetchRestaurantByCuisine(t,e){DBHelper.fetchRestaurants((s,a)=>{if(s)e(s,null);else{const s=a.filter(e=>e.cuisine_type==t);e(null,s)}})}static fetchRestaurantByNeighborhood(t,e){DBHelper.fetchRestaurants((s,a)=>{if(s)e(s,null);else{const s=a.filter(e=>e.neighborhood==t);e(null,s)}})}static fetchRestaurantByCuisineAndNeighborhood(t,e,s){DBHelper.fetchRestaurants((a,n)=>{if(a)s(a,null);else{let a=n;"all"!=t&&(a=a.filter(e=>e.cuisine_type==t)),"all"!=e&&(a=a.filter(t=>t.neighborhood==e)),s(null,a)}})}static fetchNeighborhoods(t){DBHelper.fetchRestaurants((e,s)=>{if(e)t(e,null);else{const e=s.map((t,e)=>s[e].neighborhood),a=e.filter((t,s)=>e.indexOf(t)==s);t(null,a)}})}static fetchCuisines(t){DBHelper.fetchRestaurants((e,s)=>{if(e)t(e,null);else{const e=s.map((t,e)=>s[e].cuisine_type),a=e.filter((t,s)=>e.indexOf(t)==s);t(null,a)}})}static urlForRestaurant(t){return`./restaurant.html?id=${t.id}`}static imageUrlForRestaurant(t){return`./assets/img/${t.photograph}`}static imageRespForRestaurant(t,e="original",s="jpg"){return"small"==e||"medium"==e?`./assets/img/${t.id}-${e}.${s} 1x,\n        ./assets/img/${t.id}-${e}@2x.${s} 2x`:`./assets/img/${t.id}-${e}.${s} 1x`}static mapMarkerForRestaurant(t,e){return new google.maps.Marker({position:t.latlng,title:t.name,url:DBHelper.urlForRestaurant(t),map:e,animation:google.maps.Animation.DROP})}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiaGVscGVyLmpzIl0sIm5hbWVzIjpbIkRCSGVscGVyIiwiREFUQUJBU0VfVVJMIiwiW29iamVjdCBPYmplY3RdIiwiY2FsbGJhY2siLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJyZXNwIiwiY2F0Y2giLCJlIiwiZXJyb3IiLCJjb25zb2xlIiwiaWQiLCJjdWlzaW5lIiwiZmV0Y2hSZXN0YXVyYW50cyIsInJlc3RhdXJhbnRzIiwicmVzdWx0cyIsImZpbHRlciIsInIiLCJjdWlzaW5lX3R5cGUiLCJuZWlnaGJvcmhvb2QiLCJuZWlnaGJvcmhvb2RzIiwibWFwIiwidiIsImkiLCJ1bmlxdWVOZWlnaGJvcmhvb2RzIiwiaW5kZXhPZiIsImN1aXNpbmVzIiwidW5pcXVlQ3Vpc2luZXMiLCJyZXN0YXVyYW50IiwicGhvdG9ncmFwaCIsInNpemUiLCJleHQiLCJnb29nbGUiLCJtYXBzIiwiTWFya2VyIiwicG9zaXRpb24iLCJsYXRsbmciLCJ0aXRsZSIsIm5hbWUiLCJ1cmwiLCJ1cmxGb3JSZXN0YXVyYW50IiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwiRFJPUCJdLCJtYXBwaW5ncyI6Ik1BR01BLFNBTUZDLDBCQUVJLE1BQU8sb0NBR1hDLHdCQUF3QkMsR0FDcEJDLE1BQU1KLFNBQVNDLGNBQ1ZJLEtBQUtDLElBQ0ZBLEVBQVNDLE9BQ0pGLEtBQUtHLEdBQVFMLEVBQVMsS0FBTUssSUFDNUJDLE1BQU1DLEdBQUtQLEVBQVNPLEVBQUcsU0FFL0JELE1BQU1FLElBQ0hDLFFBQVFELE1BQU1BLEtBSzFCVCwyQkFBMkJXLEVBQUlWLEdBRTNCQyxTQUFTSixTQUFTQyxnQkFBZ0JZLEtBQzdCUixLQUFLQyxJQUNGQSxFQUFTQyxPQUNKRixLQUFLRyxHQUFRTCxFQUFTLEtBQU1LLElBQzVCQyxNQUFNQyxHQUFLUCxFQUFTLDRCQUE2QixTQUV6RE0sTUFBTUUsSUFDSEMsUUFBUUQsTUFBTUEsS0FRMUJULGdDQUFnQ1ksRUFBU1gsR0FFckNILFNBQVNlLGlCQUFpQixDQUFDSixFQUFPSyxLQUM5QixHQUFJTCxFQUNBUixFQUFTUSxFQUFPLFVBQ2IsQ0FFSCxNQUFNTSxFQUFVRCxFQUFZRSxPQUFPQyxHQUFLQSxFQUFFQyxjQUFnQk4sR0FDMURYLEVBQVMsS0FBTWMsTUFRM0JmLHFDQUFxQ21CLEVBQWNsQixHQUUvQ0gsU0FBU2UsaUJBQWlCLENBQUNKLEVBQU9LLEtBQzlCLEdBQUlMLEVBQ0FSLEVBQVNRLEVBQU8sVUFDYixDQUVILE1BQU1NLEVBQVVELEVBQVlFLE9BQU9DLEdBQUtBLEVBQUVFLGNBQWdCQSxHQUMxRGxCLEVBQVMsS0FBTWMsTUFRM0JmLCtDQUErQ1ksRUFBU08sRUFBY2xCLEdBRWxFSCxTQUFTZSxpQkFBaUIsQ0FBQ0osRUFBT0ssS0FDOUIsR0FBSUwsRUFDQVIsRUFBU1EsRUFBTyxVQUNiLENBQ0gsSUFBSU0sRUFBVUQsRUFDQyxPQUFYRixJQUNBRyxFQUFVQSxFQUFRQyxPQUFPQyxHQUFLQSxFQUFFQyxjQUFnQk4sSUFFaEMsT0FBaEJPLElBQ0FKLEVBQVVBLEVBQVFDLE9BQU9DLEdBQUtBLEVBQUVFLGNBQWdCQSxJQUVwRGxCLEVBQVMsS0FBTWMsTUFRM0JmLDBCQUEwQkMsR0FFdEJILFNBQVNlLGlCQUFpQixDQUFDSixFQUFPSyxLQUM5QixHQUFJTCxFQUNBUixFQUFTUSxFQUFPLFVBQ2IsQ0FFSCxNQUFNVyxFQUFnQk4sRUFBWU8sSUFBSSxDQUFDQyxFQUFHQyxJQUFNVCxFQUFZUyxHQUFHSixjQUV6REssRUFBc0JKLEVBQWNKLE9BQU8sQ0FBQ00sRUFBR0MsSUFBTUgsRUFBY0ssUUFBUUgsSUFBTUMsR0FDdkZ0QixFQUFTLEtBQU11QixNQVEzQnhCLHFCQUFxQkMsR0FFakJILFNBQVNlLGlCQUFpQixDQUFDSixFQUFPSyxLQUM5QixHQUFJTCxFQUNBUixFQUFTUSxFQUFPLFVBQ2IsQ0FFSCxNQUFNaUIsRUFBV1osRUFBWU8sSUFBSSxDQUFDQyxFQUFHQyxJQUFNVCxFQUFZUyxHQUFHTCxjQUVwRFMsRUFBaUJELEVBQVNWLE9BQU8sQ0FBQ00sRUFBR0MsSUFBTUcsRUFBU0QsUUFBUUgsSUFBTUMsR0FDeEV0QixFQUFTLEtBQU0wQixNQVEzQjNCLHdCQUF3QjRCLEdBQ3BCLDhCQUFnQ0EsRUFBV2pCLEtBTS9DWCw2QkFBNkI0QixHQUN6QixzQkFBd0JBLEVBQVdDLGFBTXZDN0IsOEJBQThCNEIsRUFBWUUsRUFBTyxXQUFZQyxFQUFNLE9BQy9ELE1BQVksU0FBUkQsR0FBMkIsVUFBUkEsa0JBQ0tGLEVBQVdqQixNQUFNbUIsS0FBUUMsK0JBQ3RDSCxFQUFXakIsTUFBTW1CLFFBQVdDLHVCQUVmSCxFQUFXakIsTUFBTW1CLEtBQVFDLE9BT3pEL0IsOEJBQThCNEIsRUFBWVAsR0FRdEMsT0FQZSxJQUFJVyxPQUFPQyxLQUFLQyxRQUMzQkMsU0FBVVAsRUFBV1EsT0FDckJDLE1BQU9ULEVBQVdVLEtBQ2xCQyxJQUFLekMsU0FBUzBDLGlCQUFpQlosR0FDL0JQLElBQUtBLEVBQ0xvQixVQUFXVCxPQUFPQyxLQUFLUyxVQUFVQyIsImZpbGUiOiJkYmhlbHBlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29tbW9uIGRhdGFiYXNlIGhlbHBlciBmdW5jdGlvbnMuXG4gKi9cbmNsYXNzIERCSGVscGVyIHtcblxuICAgIC8qKlxuICAgICAqIERhdGFiYXNlIFVSTC5cbiAgICAgKiBDaGFuZ2UgdGhpcyB0byByZXN0YXVyYW50cy5qc29uIGZpbGUgbG9jYXRpb24gb24geW91ciBzZXJ2ZXIuXG4gICAgICovXG4gICAgc3RhdGljIGdldCBEQVRBQkFTRV9VUkwoKSB7XG4gICAgICAgIGNvbnN0IHBvcnQgPSAnMTMzNyc7XG4gICAgICAgIHJldHVybiBgaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9L3Jlc3RhdXJhbnRzYDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZmV0Y2hSZXN0YXVyYW50cyhjYWxsYmFjaykge1xuICAgICAgICBmZXRjaChEQkhlbHBlci5EQVRBQkFTRV9VUkwpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuanNvbigpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4gY2FsbGJhY2sobnVsbCwgcmVzcCkpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IGNhbGxiYWNrKGUsIG51bGwpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRCeUlkKGlkLCBjYWxsYmFjaykge1xuICAgICAgICAvLyBmZXRjaCBhbGwgcmVzdGF1cmFudHMgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG4gICAgICAgIGZldGNoKGAke0RCSGVscGVyLkRBVEFCQVNFX1VSTH0vJHtpZH1gKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmpzb24oKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IGNhbGxiYWNrKG51bGwsIHJlc3ApKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiBjYWxsYmFjaygnUmVzdGF1cmFudCBkb2VzIG5vdCBleGlzdCcsIG51bGwpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSlcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZldGNoIHJlc3RhdXJhbnRzIGJ5IGEgY3Vpc2luZSB0eXBlIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nLlxuICAgICAqL1xuICAgIHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRCeUN1aXNpbmUoY3Vpc2luZSwgY2FsbGJhY2spIHtcbiAgICAgICAgLy8gRmV0Y2ggYWxsIHJlc3RhdXJhbnRzICB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZ1xuICAgICAgICBEQkhlbHBlci5mZXRjaFJlc3RhdXJhbnRzKChlcnJvciwgcmVzdGF1cmFudHMpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCBudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRmlsdGVyIHJlc3RhdXJhbnRzIHRvIGhhdmUgb25seSBnaXZlbiBjdWlzaW5lIHR5cGVcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gcmVzdGF1cmFudHMuZmlsdGVyKHIgPT4gci5jdWlzaW5lX3R5cGUgPT0gY3Vpc2luZSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZldGNoIHJlc3RhdXJhbnRzIGJ5IGEgbmVpZ2hib3Job29kIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nLlxuICAgICAqL1xuICAgIHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRCeU5laWdoYm9yaG9vZChuZWlnaGJvcmhvb2QsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIEZldGNoIGFsbCByZXN0YXVyYW50c1xuICAgICAgICBEQkhlbHBlci5mZXRjaFJlc3RhdXJhbnRzKChlcnJvciwgcmVzdGF1cmFudHMpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCBudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRmlsdGVyIHJlc3RhdXJhbnRzIHRvIGhhdmUgb25seSBnaXZlbiBuZWlnaGJvcmhvb2RcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gcmVzdGF1cmFudHMuZmlsdGVyKHIgPT4gci5uZWlnaGJvcmhvb2QgPT0gbmVpZ2hib3Job29kKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmV0Y2ggcmVzdGF1cmFudHMgYnkgYSBjdWlzaW5lIGFuZCBhIG5laWdoYm9yaG9vZCB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZy5cbiAgICAgKi9cbiAgICBzdGF0aWMgZmV0Y2hSZXN0YXVyYW50QnlDdWlzaW5lQW5kTmVpZ2hib3Job29kKGN1aXNpbmUsIG5laWdoYm9yaG9vZCwgY2FsbGJhY2spIHtcbiAgICAgICAgLy8gRmV0Y2ggYWxsIHJlc3RhdXJhbnRzXG4gICAgICAgIERCSGVscGVyLmZldGNoUmVzdGF1cmFudHMoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IsIG51bGwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0cyA9IHJlc3RhdXJhbnRzXG4gICAgICAgICAgICAgICAgaWYgKGN1aXNpbmUgIT0gJ2FsbCcpIHsgLy8gZmlsdGVyIGJ5IGN1aXNpbmVcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKHIgPT4gci5jdWlzaW5lX3R5cGUgPT0gY3Vpc2luZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZWlnaGJvcmhvb2QgIT0gJ2FsbCcpIHsgLy8gZmlsdGVyIGJ5IG5laWdoYm9yaG9vZFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIociA9PiByLm5laWdoYm9yaG9vZCA9PSBuZWlnaGJvcmhvb2QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmV0Y2ggYWxsIG5laWdoYm9yaG9vZHMgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG4gICAgICovXG4gICAgc3RhdGljIGZldGNoTmVpZ2hib3Job29kcyhjYWxsYmFjaykge1xuICAgICAgICAvLyBGZXRjaCBhbGwgcmVzdGF1cmFudHNcbiAgICAgICAgREJIZWxwZXIuZmV0Y2hSZXN0YXVyYW50cygoZXJyb3IsIHJlc3RhdXJhbnRzKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvciwgbnVsbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEdldCBhbGwgbmVpZ2hib3Job29kcyBmcm9tIGFsbCByZXN0YXVyYW50c1xuICAgICAgICAgICAgICAgIGNvbnN0IG5laWdoYm9yaG9vZHMgPSByZXN0YXVyYW50cy5tYXAoKHYsIGkpID0+IHJlc3RhdXJhbnRzW2ldLm5laWdoYm9yaG9vZClcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZHVwbGljYXRlcyBmcm9tIG5laWdoYm9yaG9vZHNcbiAgICAgICAgICAgICAgICBjb25zdCB1bmlxdWVOZWlnaGJvcmhvb2RzID0gbmVpZ2hib3Job29kcy5maWx0ZXIoKHYsIGkpID0+IG5laWdoYm9yaG9vZHMuaW5kZXhPZih2KSA9PSBpKVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHVuaXF1ZU5laWdoYm9yaG9vZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaCBhbGwgY3Vpc2luZXMgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG4gICAgICovXG4gICAgc3RhdGljIGZldGNoQ3Vpc2luZXMoY2FsbGJhY2spIHtcbiAgICAgICAgLy8gRmV0Y2ggYWxsIHJlc3RhdXJhbnRzXG4gICAgICAgIERCSGVscGVyLmZldGNoUmVzdGF1cmFudHMoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IsIG51bGwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgYWxsIGN1aXNpbmVzIGZyb20gYWxsIHJlc3RhdXJhbnRzXG4gICAgICAgICAgICAgICAgY29uc3QgY3Vpc2luZXMgPSByZXN0YXVyYW50cy5tYXAoKHYsIGkpID0+IHJlc3RhdXJhbnRzW2ldLmN1aXNpbmVfdHlwZSlcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZHVwbGljYXRlcyBmcm9tIGN1aXNpbmVzXG4gICAgICAgICAgICAgICAgY29uc3QgdW5pcXVlQ3Vpc2luZXMgPSBjdWlzaW5lcy5maWx0ZXIoKHYsIGkpID0+IGN1aXNpbmVzLmluZGV4T2YodikgPT0gaSlcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCB1bmlxdWVDdWlzaW5lcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc3RhdXJhbnQgcGFnZSBVUkwuXG4gICAgICovXG4gICAgc3RhdGljIHVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCkge1xuICAgICAgICByZXR1cm4gKGAuL3Jlc3RhdXJhbnQuaHRtbD9pZD0ke3Jlc3RhdXJhbnQuaWR9YCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzdGF1cmFudCBpbWFnZSBVUkwuXG4gICAgICovXG4gICAgc3RhdGljIGltYWdlVXJsRm9yUmVzdGF1cmFudChyZXN0YXVyYW50KSB7XG4gICAgICAgIHJldHVybiAoYC4vYXNzZXRzL2ltZy8ke3Jlc3RhdXJhbnQucGhvdG9ncmFwaH1gKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXN0YXVyYW50IHJlc3BvbnNpdmUgaW1hZ2UgVVJMLlxuICAgICAqL1xuICAgIHN0YXRpYyBpbWFnZVJlc3BGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQsIHNpemUgPSAnb3JpZ2luYWwnLCBleHQgPSAnanBnJykge1xuICAgICAgICBpZiAoc2l6ZSA9PSAnc21hbGwnIHx8IHNpemUgPT0gJ21lZGl1bScpIHtcbiAgICAgICAgICAgIHJldHVybiAoYC4vYXNzZXRzL2ltZy8ke3Jlc3RhdXJhbnQuaWR9LSR7c2l6ZX0uJHtleHR9IDF4LFxuICAgICAgICAuL2Fzc2V0cy9pbWcvJHtyZXN0YXVyYW50LmlkfS0ke3NpemV9QDJ4LiR7ZXh0fSAyeGApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIChgLi9hc3NldHMvaW1nLyR7cmVzdGF1cmFudC5pZH0tJHtzaXplfS4ke2V4dH0gMXhgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcCBtYXJrZXIgZm9yIGEgcmVzdGF1cmFudC5cbiAgICAgKi9cbiAgICBzdGF0aWMgbWFwTWFya2VyRm9yUmVzdGF1cmFudChyZXN0YXVyYW50LCBtYXApIHtcbiAgICAgICAgY29uc3QgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVzdGF1cmFudC5sYXRsbmcsXG4gICAgICAgICAgICB0aXRsZTogcmVzdGF1cmFudC5uYW1lLFxuICAgICAgICAgICAgdXJsOiBEQkhlbHBlci51cmxGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQpLFxuICAgICAgICAgICAgbWFwOiBtYXAsXG4gICAgICAgICAgICBhbmltYXRpb246IGdvb2dsZS5tYXBzLkFuaW1hdGlvbi5EUk9QXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWFya2VyO1xuICAgIH1cblxufSJdfQ==
